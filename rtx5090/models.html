<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Configurations - RTX 5090 Optimization</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&family=Source+Sans+Pro:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-dark: #0f0f0f;
            --secondary-dark: #1a1a1a;
            --copper: #b8860b;
            --electric-blue: #00d4ff;
            --text-light: #e0e0e0;
            --text-gray: #a0a0a0;
        }
        
        body {
            font-family: 'Source Sans Pro', sans-serif;
            background: var(--primary-dark);
            color: var(--text-light);
            overflow-x: hidden;
        }
        
        .font-mono { font-family: 'JetBrains Mono', monospace; }
        .font-inter { font-family: 'Inter', sans-serif; }
        
        .performance-card {
            background: rgba(26, 26, 26, 0.8);
            border: 1px solid rgba(184, 134, 11, 0.2);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .performance-card:hover {
            transform: translateY(-5px);
            border-color: var(--copper);
            box-shadow: 0 20px 40px rgba(184, 134, 11, 0.1);
        }
        
        .nav-link {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--copper);
            transition: width 0.3s ease;
        }
        
        .nav-link:hover::after {
            width: 100%;
        }
        
        .scroll-reveal {
            opacity: 0;
            transform: translateY(30px);
        }
        
        .model-table {
            background: rgba(26, 26, 26, 0.6);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .model-row {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .model-row:hover {
            background: rgba(184, 134, 11, 0.1);
            transform: translateX(5px);
        }
        
        .quant-method {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .quant-method:hover {
            background: rgba(0, 212, 255, 0.1);
            border-color: var(--electric-blue);
        }
        
        .quant-method.active {
            background: rgba(184, 134, 11, 0.2);
            border-color: var(--copper);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 bg-black bg-opacity-90 backdrop-blur-md border-b border-gray-800">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <div class="font-mono text-xl font-bold text-copper">RTX 5090 Optimization</div>
                <div class="flex space-x-8">
                    <a href="index.html" class="nav-link text-gray-300 hover:text-white">Overview</a>
                    <a href="hardware.html" class="nav-link text-gray-300 hover:text-white">Hardware</a>
                    <a href="#models" class="nav-link text-copper">Models</a>
                    <a href="workflow.html" class="nav-link text-gray-300 hover:text-white">Workflow</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="models" class="pt-32 pb-20 bg-primary-dark">
        <div class="max-w-7xl mx-auto px-6">
            <div class="text-center mb-16 scroll-reveal">
                <h1 class="font-inter text-5xl font-bold text-white mb-6">Optimal Model Configurations</h1>
                <p class="text-xl text-gray-300 max-w-4xl mx-auto leading-relaxed">
                    Strategic model selection and quantization methods that maximize RTX 5090 performance 
                    while avoiding common deployment pitfalls.
                </p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div class="scroll-reveal">
                    <img src="resources/quantization-methods.png" alt="Quantization Methods Comparison" class="w-full h-auto rounded-lg shadow-2xl">
                </div>
                
                <div class="space-y-8 scroll-reveal">
                    <div class="performance-card p-8 rounded-xl">
                        <h3 class="font-inter text-2xl font-bold text-copper mb-6">The 70B Parameter Trap</h3>
                        <div class="space-y-4">
                            <p class="text-gray-300 leading-relaxed">
                                A common strategic error is attempting to run flagship 70B parameter models 
                                with standard quantization, which exceeds VRAM capacity and forces slow 
                                system RAM offloading.
                            </p>
                            <div class="font-mono text-sm text-red-400 bg-gray-800 p-4 rounded">
                                70B Q4: 42GB required ‚Üí 5-8 tok/s<br>
                                70B IQ2_XS: 21GB ‚Üí Fast but degraded reasoning
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Recommended Models -->
    <section class="py-20 bg-secondary-dark">
        <div class="max-w-7xl mx-auto px-6">
            <div class="scroll-reveal">
                <h2 class="font-inter text-4xl font-bold text-white mb-8 text-center">Recommended Models by Use Case</h2>
                <p class="text-xl text-gray-300 max-w-4xl mx-auto text-center mb-16">
                    Carefully selected models that provide exceptional balance of performance, capability, 
                    and compatibility with the RTX 5090's 32GB VRAM budget.
                </p>
            </div>
            
            <div class="model-table scroll-reveal">
                <div class="model-row p-6">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 items-center">
                        <div>
                            <h3 class="font-inter text-lg font-bold text-copper">Qwen3-Coder-30B-A3B-Instruct</h3>
                            <p class="text-gray-400 text-sm">Primary recommendation</p>
                        </div>
                        <div class="text-gray-300">
                            <strong>Primary Use:</strong> Autonomous coding and agentic tasks<br>
                            <strong>Performance:</strong> 80-90 tokens/sec
                        </div>
                        <div class="text-gray-300">
                            Officially recommended for Cline agent. Provides reliable performance 
                            for complex, tool-calling tasks with optimal speed-capability balance.
                        </div>
                        <div class="font-mono text-electric-blue">
                            Q4_K_M: ~16GB VRAM
                        </div>
                    </div>
                </div>
                
                <div class="model-row p-6">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 items-center">
                        <div>
                            <h3 class="font-inter text-lg font-bold text-electric-blue">Llama 3.1 70B Instruct</h3>
                            <p class="text-gray-400 text-sm">Specialized reasoning</p>
                        </div>
                        <div class="text-gray-300">
                            <strong>Primary Use:</strong> Heavy-duty reasoning & code review<br>
                            <strong>Performance:</strong> 60+ tokens/sec
                        </div>
                        <div class="text-gray-300">
                            When fully loaded with IQ2_XS quantization, offers top-tier open-source 
                            reasoning at high speed, ideal for complex security analysis.
                        </div>
                        <div class="font-mono text-copper">
                            IQ2_XS: ~21GB VRAM
                        </div>
                    </div>
                </div>
                
                <div class="model-row p-6">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 items-center">
                        <div>
                            <h3 class="font-inter text-lg font-bold text-copper">granite-8b-qiskit</h3>
                            <p class="text-gray-400 text-sm">Specialized domain</p>
                        </div>
                        <div class="text-gray-300">
                            <strong>Primary Use:</strong> Quantum software linting<br>
                            <strong>Performance:</strong> 200+ tokens/sec
                        </div>
                        <div class="text-gray-300">
                            The only open-source model specialized for Qiskit code analysis. 
                            Essential for quantum development with trivial performance load.
                        </div>
                        <div class="font-mono text-electric-blue">
                            Q4_K_M: ~5GB VRAM
                        </div>
                    </div>
                </div>
                
                <div class="model-row p-6">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 items-center">
                        <div>
                            <h3 class="font-inter text-lg font-bold text-electric-blue">DeepSeek-Coder-33B</h3>
                            <p class="text-gray-400 text-sm">Alternative option</p>
                        </div>
                        <div class="text-gray-300">
                            <strong>Primary Use:</strong> Alternative to Llama for security<br>
                            <strong>Performance:</strong> 50-60 tokens/sec
                        </div>
                        <div class="text-gray-300">
                            Highly effective alternative for static analysis and vulnerability 
                            pattern detection across large codebases.
                        </div>
                        <div class="font-mono text-copper">
                            Q4_K_M: ~20GB VRAM
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Quantization Methods -->
    <section class="py-20 bg-primary-dark">
        <div class="max-w-7xl mx-auto px-6">
            <div class="scroll-reveal">
                <h2 class="font-inter text-4xl font-bold text-white mb-8 text-center">Quantization Methods</h2>
                <p class="text-xl text-gray-300 max-w-4xl mx-auto text-center mb-16">
                    The choice of quantization method directly impacts performance and quality. 
                    Each method has specific advantages for different deployment scenarios.
                </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                <div class="quant-method performance-card p-6 rounded-xl border-2" data-method="awq">
                    <div class="text-center mb-4">
                        <div class="text-3xl text-copper mb-2">‚ö°</div>
                        <h3 class="font-inter text-lg font-bold text-white">AWQ</h3>
                        <p class="text-gray-400 text-sm">Activation-Aware</p>
                    </div>
                    <div class="space-y-3">
                        <p class="text-gray-300 text-sm leading-relaxed">
                            Dominates for pure GPU inference, achieving 4x memory reduction while preserving critical weights.
                        </p>
                        <div class="font-mono text-xs text-electric-blue bg-gray-800 p-2 rounded">
                            Best for: Agentic workflows
                        </div>
                    </div>
                </div>
                
                <div class="quant-method performance-card p-6 rounded-xl border-2" data-method="exl2">
                    <div class="text-center mb-4">
                        <div class="text-3xl text-electric-blue mb-2">üéØ</div>
                        <h3 class="font-inter text-lg font-bold text-white">EXL2</h3>
                        <p class="text-gray-400 text-sm">Consumer Optimized</p>
                    </div>
                    <div class="space-y-3">
                        <p class="text-gray-300 text-sm leading-relaxed">
                            Purpose-built for consumer GPUs, optimized for small batch sizes (1-4) and low latency.
                        </p>
                        <div class="font-mono text-xs text-copper bg-gray-800 p-2 rounded">
                            Best for: Interactive analysis
                        </div>
                    </div>
                </div>
                
                <div class="quant-method performance-card p-6 rounded-xl border-2" data-method="gptq">
                    <div class="text-center mb-4">
                        <div class="text-3xl text-copper mb-2">üîß</div>
                        <h3 class="font-inter text-lg font-bold text-white">GPTQ</h3>
                        <p class="text-gray-400 text-sm">General Purpose</p>
                    </div>
                    <div class="space-y-3">
                        <p class="text-gray-300 text-sm leading-relaxed">
                            Mature method with excellent ecosystem support and optimized GPU kernels for high concurrency.
                        </p>
                        <div class="font-mono text-xs text-electric-blue bg-gray-800 p-2 rounded">
                            Best for: High concurrency
                        </div>
                    </div>
                </div>
                
                <div class="quant-method performance-card p-6 rounded-xl border-2" data-method="gguf">
                    <div class="text-center mb-4">
                        <div class="text-3xl text-red-400 mb-2">‚ö†Ô∏è</div>
                        <h3 class="font-inter text-lg font-bold text-white">GGUF</h3>
                        <p class="text-gray-400 text-sm">CPU Optimized</p>
                    </div>
                    <div class="space-y-3">
                        <p class="text-gray-300 text-sm leading-relaxed">
                            Optimized for CPU and hybrid CPU/GPU scenarios. Avoid for pure GPU inference on RTX 5090.
                        </p>
                        <div class="font-mono text-xs text-red-400 bg-gray-800 p-2 rounded">
                            Avoid: 20-40% slower
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Quantization Performance Chart -->
            <div class="scroll-reveal">
                <div class="performance-card p-8 rounded-xl">
                    <h3 class="font-inter text-2xl font-bold text-white mb-6">Quantization Method Performance</h3>
                    <div id="quantizationChart" style="height: 400px;"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive Model Selector -->
    <section class="py-20 bg-secondary-dark">
        <div class="max-w-7xl mx-auto px-6">
            <div class="scroll-reveal">
                <h2 class="font-inter text-4xl font-bold text-white mb-8 text-center">Interactive Model Configurator</h2>
                <p class="text-xl text-gray-300 max-w-4xl mx-auto text-center mb-16">
                    Experiment with different model configurations to find the optimal setup for your specific use case.
                </p>
            </div>
            
            <div class="performance-card p-8 rounded-xl scroll-reveal">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-3">Model Selection</label>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="radio" name="model" value="qwen30b" class="text-copper" checked>
                                <span class="text-white">Qwen3-Coder-30B</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="radio" name="model" value="llama70b" class="text-copper">
                                <span class="text-white">Llama 3.1 70B</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="radio" name="model" value="granite8b" class="text-copper">
                                <span class="text-white">granite-8b-qiskit</span>
                            </label>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-3">Quantization Method</label>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="radio" name="quant" value="q4" class="text-electric-blue" checked>
                                <span class="text-white">Q4_K_M (4-bit)</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="radio" name="quant" value="iq2" class="text-electric-blue">
                                <span class="text-white">IQ2_XS (2-bit)</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="radio" name="quant" value="awq" class="text-electric-blue">
                                <span class="text-white">AWQ (4-bit)</span>
                            </label>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-3">Use Case</label>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="radio" name="usecase" value="coding" class="text-copper" checked>
                                <span class="text-white">Autonomous Coding</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="radio" name="usecase" value="security" class="text-copper">
                                <span class="text-white">Security Analysis</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="radio" name="usecase" value="quantum" class="text-copper">
                                <span class="text-white">Quantum Computing</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <div id="configResults" class="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <div class="text-center p-4 bg-gray-800 rounded-lg">
                        <div class="text-2xl font-bold text-electric-blue" id="vramUsage">16</div>
                        <div class="text-sm text-gray-400">VRAM Usage (GB)</div>
                    </div>
                    <div class="text-center p-4 bg-gray-800 rounded-lg">
                        <div class="text-2xl font-bold text-copper" id="tokenSpeed">85</div>
                        <div class="text-sm text-gray-400">Tokens/sec</div>
                    </div>
                    <div class="text-center p-4 bg-gray-800 rounded-lg">
                        <div class="text-2xl font-bold text-electric-blue" id="efficiency">92</div>
                        <div class="text-sm text-gray-400">Efficiency %</div>
                    </div>
                    <div class="text-center p-4 bg-gray-800 rounded-lg">
                        <div class="text-2xl font-bold text-copper" id="cost">Free</div>
                        <div class="text-sm text-gray-400">Cost/Hour</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Next Steps -->
    <section class="py-20 bg-primary-dark">
        <div class="max-w-4xl mx-auto px-6 text-center">
            <div class="scroll-reveal">
                <h2 class="font-inter text-4xl font-bold text-white mb-6">Ready to Implement?</h2>
                <p class="text-xl text-gray-300 mb-8 leading-relaxed">
                    Now that you've selected your optimal model configuration, learn how to integrate 
                    these models into a powerful hybrid workflow that maximizes performance and cost-efficiency.
                </p>
                
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <a href="workflow.html" class="bg-copper text-black px-8 py-3 rounded-lg font-inter font-semibold hover:bg-yellow-600 transition-all">Implementation Guide</a>
                    <a href="index.html" class="border border-copper text-copper px-8 py-3 rounded-lg font-inter hover:bg-copper hover:text-black transition-all">Back to Overview</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black py-8">
        <div class="max-w-7xl mx-auto px-6">
            <div class="text-center">
                <div class="font-mono text-copper mb-2">RTX 5090 Optimization Whitepaper</div>
                <div class="text-gray-400 text-sm">Technical analysis for AI professionals and hardware enthusiasts</div>
            </div>
        </div>
    </footer>

    <script>
        // Model configuration data
        const modelData = {
            'qwen30b': {
                'q4': { vram: 16, speed: 85, efficiency: 92 },
                'iq2': { vram: 12, speed: 95, efficiency: 88 },
                'awq': { vram: 15, speed: 90, efficiency: 94 }
            },
            'llama70b': {
                'q4': { vram: 42, speed: 25, efficiency: 45 },
                'iq2': { vram: 21, speed: 65, efficiency: 75 },
                'awq': { vram: 40, speed: 30, efficiency: 50 }
            },
            'granite8b': {
                'q4': { vram: 5, speed: 200, efficiency: 98 },
                'iq2': { vram: 3, speed: 220, efficiency: 95 },
                'awq': { vram: 4.5, speed: 210, efficiency: 99 }
            }
        };
        
        const useCaseMultipliers = {
            'coding': { speed: 1.0, efficiency: 1.0, cost: 0 },
            'security': { speed: 0.8, efficiency: 1.2, cost: 15 },
            'quantum': { speed: 1.1, efficiency: 0.9, cost: 20 }
        };
        
        function updateConfiguration() {
            const model = document.querySelector('input[name="model"]:checked').value;
            const quant = document.querySelector('input[name="quant"]:checked').value;
            const useCase = document.querySelector('input[name="usecase"]:checked').value;
            
            const baseConfig = modelData[model][quant];
            const multipliers = useCaseMultipliers[useCase];
            
            // Calculate adjusted values
            const vramUsage = baseConfig.vram;
            const tokenSpeed = Math.round(baseConfig.speed * multipliers.speed);
            const efficiency = Math.round(baseConfig.efficiency * multipliers.efficiency);
            const costPerHour = multipliers.cost;
            
            // Update display
            document.getElementById('vramUsage').textContent = vramUsage;
            document.getElementById('tokenSpeed').textContent = tokenSpeed;
            document.getElementById('efficiency').textContent = efficiency;
            document.getElementById('cost').textContent = costPerHour ? '$' + costPerHour : 'Free';
            
            // Add visual feedback
            const results = document.getElementById('configResults');
            results.style.transform = 'scale(1.02)';
            setTimeout(() => {
                results.style.transform = 'scale(1)';
            }, 200);
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize quantization chart
            const chartElement = document.getElementById('quantizationChart');
            if (chartElement) {
                const chart = echarts.init(chartElement);
                
                const option = {
                    backgroundColor: 'transparent',
                    tooltip: {
                        trigger: 'axis',
                        backgroundColor: '#1a1a1a',
                        borderColor: '#b8860b',
                        textStyle: { color: '#e0e0e0' }
                    },
                    legend: {
                        data: ['Speed (tok/s)', 'Memory Efficiency (%)', 'Quality Score'],
                        textStyle: { color: '#e0e0e0' },
                        top: 10
                    },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    xAxis: {
                        type: 'category',
                        data: ['AWQ', 'EXL2', 'GPTQ', 'GGUF'],
                        axisLine: { lineStyle: { color: '#444' } },
                        axisLabel: { color: '#a0a0a0' }
                    },
                    yAxis: [
                        {
                            type: 'value',
                            name: 'Performance',
                            nameTextStyle: { color: '#a0a0a0' },
                            axisLine: { lineStyle: { color: '#444' } },
                            axisLabel: { color: '#a0a0a0' },
                            splitLine: { lineStyle: { color: '#333' } }
                        }
                    ],
                    series: [
                        {
                            name: 'Speed (tok/s)',
                            type: 'bar',
                            data: [90, 88, 85, 60],
                            itemStyle: { color: '#b8860b' }
                        },
                        {
                            name: 'Memory Efficiency (%)',
                            type: 'bar',
                            data: [94, 96, 90, 85],
                            itemStyle: { color: '#00d4ff' }
                        },
                        {
                            name: 'Quality Score',
                            type: 'line',
                            data: [95, 92, 88, 90],
                            lineStyle: { color: '#ff6b6b', width: 3 },
                            itemStyle: { color: '#ff6b6b' }
                        }
                    ]
                };
                
                chart.setOption(option);
                
                // Animate on scroll
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            chart.resize();
                            observer.unobserve(entry.target);
                        }
                    });
                });
                observer.observe(chartElement);
            }
            
            // Initialize event listeners
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.addEventListener('change', updateConfiguration);
            });
            
            // Initial update
            updateConfiguration();
            
            // Initialize scroll animations
            const elements = document.querySelectorAll('.scroll-reveal');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        anime({
                            targets: entry.target,
                            opacity: [0, 1],
                            translateY: [30, 0],
                            duration: 800,
                            easing: 'easeOutCubic'
                        });
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            
            elements.forEach(element => observer.observe(element));
        });
    </script>
</body>
</html>